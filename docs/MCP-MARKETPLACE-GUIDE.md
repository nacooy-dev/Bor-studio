# MCP服务器市场使用指南

## 概述

MCP服务器市场是Bor智能体中枢的核心功能之一，提供了一个统一的平台来发现、安装和管理各种MCP（Model Context Protocol）服务器。通过市场系统，用户可以轻松扩展AI助手的能力。

## 功能特性

### 🏪 丰富的服务器生态
- **60+优质服务器**: 涵盖文件系统、知识管理、搜索、数据库等各个领域
- **官方认证**: 标注官方和社区推荐的高质量服务器
- **实时更新**: 持续更新最新的服务器和功能

### 🔍 智能发现系统
- **分类浏览**: 按功能领域快速找到需要的服务器
- **标签过滤**: 支持官方、热门、云服务、本地服务等标签
- **全文搜索**: 搜索服务器名称、描述和功能标签

### 🛠️ 一键安装体验
- **智能配置**: 自动检测和配置服务器参数
- **环境检查**: 验证系统依赖和工具可用性
- **进度跟踪**: 实时显示安装进度和状态

## 使用方法

### 1. 打开MCP市场

在主界面中点击"MCP市场"或"工具市场"按钮，进入服务器市场界面。

### 2. 浏览和搜索服务器

#### 按类别浏览
- **📂 文件系统**: 本地文件操作、云存储集成
- **🧠 知识管理**: 笔记系统、记忆存储
- **🔍 搜索**: 网络搜索、内容检索
- **🗄️ 数据库**: SQL查询、数据分析
- **🛠️ 开发工具**: 代码管理、构建工具
- **💬 通信**: 团队协作、消息系统

#### 使用搜索功能
在搜索框中输入关键词，如：
- "obsidian" - 查找Obsidian笔记相关服务器
- "search" - 查找搜索相关服务器
- "database" - 查找数据库相关服务器

#### 标签过滤
点击标签按钮快速过滤：
- **official**: 官方认证服务器
- **popular**: 热门推荐服务器
- **cloud**: 云服务集成
- **local**: 本地工具

### 3. 安装服务器

#### 查看服务器详情
点击服务器卡片查看：
- 功能描述和特性
- 技术要求和依赖
- 配置参数说明
- 官方文档链接

#### 配置安装参数
1. 点击"安装"按钮打开配置对话框
2. 填写必需的配置参数：
   - **路径参数**: 使用文件选择器或手动输入
   - **API密钥**: 输入第三方服务的API密钥
   - **连接信息**: 数据库连接字符串等
3. 系统会自动验证参数格式和有效性

#### 完成安装
1. 点击"安装"开始安装过程
2. 系统会依次执行：
   - 参数验证
   - 依赖检查
   - 服务器下载
   - 连接测试
   - 配置保存
3. 安装成功后，服务器将自动添加到可用工具列表

### 4. 管理已安装服务器

#### 查看安装状态
- 已安装的服务器会显示绿色的"已安装"标识
- 可以查看服务器运行状态和连接情况

#### 配置和管理
- **重新配置**: 修改服务器参数和设置
- **启动/停止**: 控制服务器运行状态
- **卸载**: 移除不需要的服务器

## 推荐服务器

### 新手必装
1. **File System** - 本地文件操作
2. **Memory** - 智能记忆存储
3. **DuckDuckGo Search** - 网络搜索
4. **Sequential Thinking** - 结构化思维

### 知识工作者
1. **Obsidian** - 笔记管理和知识图谱
2. **Git** - 代码版本控制
3. **SQLite** - 本地数据分析
4. **Time** - 时间管理工具

### 开发者专用
1. **Shell** - 系统命令执行
2. **PostgreSQL** - 数据库查询
3. **Slack** - 团队协作
4. **Linear** - 项目管理

## 环境要求

### 基础工具
- **Node.js**: 运行官方MCP服务器
- **Python 3.8+**: 运行Python MCP服务器
- **uv**: Python包管理器，用于uvx命令

### 安装工具
```bash
# 安装Node.js (https://nodejs.org/)
# 安装Python (https://python.org/)

# 安装uv
curl -LsSf https://astral.sh/uv/install.sh | sh
```

### 系统兼容性
- **macOS**: 完全支持
- **Windows**: 支持（需要WSL或PowerShell）
- **Linux**: 完全支持

## 故障排除

### 常见问题

#### 1. 环境检查失败
**问题**: 系统提示缺少Node.js或Python
**解决**: 安装对应的运行环境，重启应用

#### 2. 服务器连接失败
**问题**: 安装后服务器无法连接
**解决**: 
- 检查网络连接
- 验证API密钥和配置参数
- 查看错误日志获取详细信息

#### 3. 参数验证错误
**问题**: 配置参数格式不正确
**解决**: 
- 按照提示格式输入参数
- 使用路径选择器选择正确路径
- 参考服务器文档确认参数要求

#### 4. 权限问题
**问题**: 无法访问文件或目录
**解决**: 
- 确保应用有足够的文件系统权限
- 在macOS上可能需要在系统偏好设置中授权

### 获取帮助
- 查看服务器官方文档
- 在GitHub Issues中报告问题
- 加入社区讨论群组

## 开发者指南

### 添加自定义服务器

如果你想添加自己的MCP服务器到注册表：

1. 在`src/lib/mcp/server-registry.ts`中添加服务器配置
2. 提供完整的参数定义和验证规则
3. 测试安装和运行流程
4. 提交Pull Request

### 服务器配置格式

```typescript
{
  id: 'my-server',
  name: 'My Custom Server',
  description: '自定义MCP服务器',
  category: 'utility',
  command: 'npx',
  args: ['-y', 'my-mcp-server'],
  tags: ['custom', 'utility'],
  requirements: ['Node.js'],
  parameters: [
    {
      key: 'api_key',
      type: 'string',
      description: 'API密钥',
      required: true,
      placeholder: 'sk-xxxxxxxx'
    }
  ],
  env: {
    'MY_API_KEY': '<api_key>'
  }
}
```

## 总结

MCP服务器市场让扩展AI助手能力变得前所未有的简单。通过直观的界面和智能的安装流程，用户可以快速发现和部署各种专业工具，真正实现个性化的智能助手体验。

无论你是普通用户还是开发者，都能在这个生态系统中找到适合的工具，让AI助手成为你工作和生活中的得力伙伴。