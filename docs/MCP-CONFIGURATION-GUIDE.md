# MCP 配置管理指南

## 概述

Bor 智能体中枢现在提供了强大的 MCP 服务器配置管理功能，包括服务器市场、配置编辑和动态更新等特性。

## 🆕 新增功能

### 1. 扩展的服务器市场

#### 📈 服务器数量大幅增加
- **内置服务器**: 30+ 精心策划的高质量服务器
- **外部服务器**: 自动从 GitHub 和社区源获取 70+ 服务器
- **总计**: 100+ 可用服务器，涵盖各种使用场景

#### 🏷️ 丰富的分类系统
- **📂 文件系统**: 本地文件、Google Drive、Box 等
- **🧠 知识管理**: Obsidian、Notion、Confluence 等
- **🔍 搜索**: DuckDuckGo、Brave、Exa 等
- **🗄️ 数据库**: SQLite、PostgreSQL、MongoDB、Redis 等
- **🛠️ 开发工具**: Git、GitHub、Docker、Kubernetes 等
- **☁️ 云服务**: AWS、Azure、各种 API 集成
- **💰 金融**: 加密货币、股票数据
- **📝 内容创作**: YouTube、PDF 工具
- **🔒 安全工具**: 密码管理、加密工具
- **💬 通信**: Slack、邮件集成
- **🔧 实用工具**: 天气、日历、时间工具
- **⚙️ 系统工具**: 监控、网络诊断

#### 🔄 动态数据源
- **官方源**: 自动从 ModelContextProtocol 官方仓库获取
- **社区源**: 从 Awesome MCP Servers 项目获取社区贡献
- **缓存机制**: 30分钟缓存，提升加载速度
- **容错处理**: 网络失败时使用缓存数据

### 2. 配置编辑功能

#### ✏️ 实时配置修改
- **编辑按钮**: 每个已安装服务器都有编辑选项
- **参数修改**: 可以修改命令参数、环境变量等
- **即时生效**: 修改后立即更新，无需重新安装
- **参数验证**: 自动验证配置的正确性

#### 🔧 支持的配置项
- **服务器名称**: 修改显示名称
- **描述信息**: 更新服务器描述
- **命令参数**: 调整启动参数
- **工作目录**: 设置运行目录
- **自动启动**: 开启/关闭自动启动

#### 🛡️ 安全保护
- **ID 锁定**: 服务器 ID 不可修改，防止冲突
- **参数验证**: 防止无效配置导致启动失败
- **备份机制**: 修改失败时自动回滚

## 📋 使用指南

### 安装新服务器

1. **打开服务器市场**
   - 在 MCP 配置页面点击"服务器市场"标签
   - 浏览可用的服务器列表

2. **筛选和搜索**
   - 使用类别筛选找到相关服务器
   - 使用搜索框快速定位
   - 查看服务器标签（官方、热门、云服务等）

3. **查看服务器详情**
   - 点击服务器卡片查看详细信息
   - 了解所需的系统要求
   - 查看配置参数说明

4. **安装服务器**
   - 点击"安装"按钮
   - 填写必要的配置参数
   - 等待安装完成

### 编辑服务器配置

1. **找到目标服务器**
   - 在"已安装服务器"标签页找到要编辑的服务器

2. **打开编辑对话框**
   - 点击服务器操作区域的"编辑"按钮
   - 编辑对话框将显示当前配置

3. **修改配置**
   - 修改需要更改的参数
   - 服务器 ID 不可修改（灰色显示）
   - 其他参数可以自由修改

4. **保存更改**
   - 点击"更新服务器"按钮
   - 系统会验证配置并应用更改

### 故障排除

#### 配置修改失效
如果配置修改后没有生效：

1. **检查服务器状态**
   - 确保服务器已停止
   - 重新启动服务器以应用新配置

2. **验证参数格式**
   - 检查参数是否符合要求
   - 确认路径和环境变量正确

3. **查看错误信息**
   - 注意对话框中的错误提示
   - 检查系统日志获取详细信息

#### 服务器市场加载缓慢
如果服务器市场加载缓慢：

1. **网络检查**
   - 确认网络连接正常
   - 检查是否有防火墙阻止

2. **手动刷新**
   - 使用刷新按钮重新加载
   - 清除缓存后重新获取

3. **使用内置服务器**
   - 即使外部源失败，内置服务器仍可用
   - 优先使用官方和热门服务器

## 🎯 最佳实践

### 服务器选择
1. **优先选择官方服务器**: 标有"official"标签的服务器更稳定
2. **查看热门程度**: "popular"标签表示社区认可度高
3. **考虑系统要求**: 确认本地环境支持所需工具

### 配置管理
1. **备份重要配置**: 记录关键参数，便于恢复
2. **测试后再应用**: 在测试环境验证配置正确性
3. **定期更新**: 关注服务器更新，及时升级

### 性能优化
1. **按需启动**: 不常用的服务器设为手动启动
2. **资源监控**: 关注服务器资源占用
3. **定期清理**: 移除不再使用的服务器

## 🔮 未来计划

### 即将推出的功能
- **配置模板**: 预设常用配置组合
- **批量操作**: 同时管理多个服务器
- **版本管理**: 服务器版本检查和更新
- **使用统计**: 服务器使用情况分析
- **社区评分**: 用户评价和推荐系统

### 长期规划
- **插件市场**: 扩展到更多类型的插件
- **自定义源**: 支持添加自定义服务器源
- **云端同步**: 配置在多设备间同步
- **智能推荐**: 基于使用习惯推荐服务器

## 📞 获取帮助

如果在使用过程中遇到问题：

1. **查看文档**: 阅读服务器的官方文档
2. **检查日志**: 查看系统和服务器日志
3. **社区支持**: 在 GitHub 或社区论坛寻求帮助
4. **报告问题**: 通过 GitHub Issues 报告 bug

---

通过这些新功能，Bor 智能体中枢的 MCP 生态系统变得更加丰富和易用，让你能够轻松发现、安装和管理各种智能工具，真正实现个性化的 AI 助手体验。